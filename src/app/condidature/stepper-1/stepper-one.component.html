<form [formGroup]="productForm" (ngSubmit)="onSubmit()">

  <div class="form-group" >
    <label for="exampleInputEmail1">Nom</label>
    <input type="text" [(ngModel)]="candidat.nom" class="form-control" name="nom" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Nom">

  </div>
  <div class="form-group">
    <label for="exampleInputEmail1">Prenom</label>
    <input type="text" [(ngModel)]="candidat.prenom"class="form-control"name="prenom" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Prenom">

  </div>
  <div class="form-group">
    <label for="exampleInputEmail1">Date de naissance</label>
    <input type="date" [(ngModel)]="candidat.dateNaiss"class="form-control"name="dateNaiss" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Date de naissance">

  </div>
  <div class="form-group">
    <label for="select_ec">Etat civil</label>

    <select id="select_ec" class="form-control" name="etatCivil"[(ngModel)]="candidat.etatCivil">
      <option selected>...</option>
      <option value="Marié">Marié</option>
      <option value="Celebataire">Celebataire</option>
    </select>
  </div>
  <div class="form-group">
    <label for="exampleInputEmail1">Années d'experience</label>
    <input type="number"[(ngModel)]="candidat.anneeExp" name="anneeExp"class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Années d'experience">

  </div>
  <div class="form-group">
    <label for="textarea">Adress</label>
    <textarea id="textarea" rows="3"[(ngModel)]="candidat.adresse" name="adresse"></textarea>
  </div>
  <!--  -------------------------stepper two------------------------------ --
   <div>
    <h3>Experiences</h3><button type="button" (click)="addExperience()" class="btn btn-primary">Add More</button>
    <div class="card text-left" formArrayName="experiences" *ngFor="let quantity of experiences().controls; index as i"
      [formGroupName]="i">
      <div class="card-header">
        Experience
      </div>
      <div class="card-body">
        <div class="form-group">
          <label for="exampleInputEmail1">qualification</label>
          <input type="text" class="form-control" id="exampleInputEmail1" formControlName="qualification"
            aria-describedby="emailHelp" placeholder="qualification">

        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Mission</label>
          <textarea id="textarea" formControlName="mission" rows="3"></textarea>


        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">date entrée</label>
          <input type="date" class="form-control" formControlName="date_entre" id="exampleInputEmail1"
            aria-describedby="emailHelp">

        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">date sortie</label>
          <input type="date" class="form-control" formControlName="date_sortie" id="exampleInputEmail1"
            aria-describedby="emailHelp">

        </div>
        <div class="form-group">
          <label for="select_ec">Société</label>

          <select id="select_ec" formControlName="societe">
            <option selected>orange</option>
            <option value="1">telnet</option>
            <option value="2">vermeg</option>
          </select>

        </div>
      </div>
      <div class="card-footer text-muted">
        <button (click)="removeExperience(i)" class="btn btn-danger">Remove</button>
      </div>
    </div>

  </div>

  <div>
  <h3>Stages</h3><button type="button" (click)="addStage()" class="btn btn-primary">Add More</button>
    <div class="card text-left" formArrayName="stages" *ngFor="let quantity of stages().controls; index as i"
      [formGroupName]="i">
      <div class="card-header">
        Stage
      </div>
      <div class="card-body">
        <div class="form-group">
          <label for="exampleInputEmail1">intitulé</label>
          <input type="text" class="form-control" id="exampleInputEmail1" formControlName="titre"
            aria-describedby="emailHelp" placeholder="sujet de stage">

        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">Mission</label>
          <textarea id="textarea" formControlName="mission" rows="3"></textarea>


        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">date entrée</label>
          <input type="date" class="form-control" formControlName="date_entre" id="exampleInputEmail1"
            aria-describedby="emailHelp">

        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">date sortie</label>
          <input type="date" class="form-control" formControlName="date_sortie" id="exampleInputEmail1"
            aria-describedby="emailHelp">

        </div>
        <div class="form-group">
          <label for="select_ec">Société</label>

          <select id="select_ec" formControlName="societe">
            <option selected>orange</option>
            <option value="1">telnet</option>
            <option value="2">vermeg</option>
          </select>

        </div>
      </div>
      <div class="card-footer text-muted">
        <button (click)="removeStage(i)" class="btn btn-danger">Remove</button>
      </div>
    </div>

  </div>

  <div>
    <h3>Diplome</h3><button type="button" (click)="addDiplome()" class="btn btn-primary">Add More</button>
      <div class="card text-left" formArrayName="diplomes" *ngFor="let quantity of diplomes().controls; index as i"
        >
        <div class="card-header">
          Diplome
        </div>
        <div class="card-body">
          <div class="form-group">
            <label for="exampleInputEmail1">intitulé</label>
            <input type="text" class="form-control" id="exampleInputEmail1" formControlName="titre"
              aria-describedby="emailHelp" placeholder="sujet de stage">

          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">specialité</label>
            <input type="text" class="form-control" id="exampleInputEmail1" formControlName="titre"
              aria-describedby="emailHelp" placeholder="specialité">

          </div>

          <div class="form-group">
            <label for="select_ec">etablissement</label>

            <select id="select_ec" formControlName="societe">
              <option selected>ISIMM</option>
              <option value="1">IPSAS</option>
              <option value="2">ISIMS</option>
            </select>

          </div>
        </div>
        <div class="card-footer text-muted">
          <button (click)="removeDiplome(i)" class="btn btn-danger">Remove</button>
        </div>
      </div>

    </div>
  <--!--  ------------------------------------------------------- -->




  <div class="container">

    <h1> Dynamically Add New Input Fields in Angular </h1>



      <p>
        <label for="name">Product Name:</label>
        <input type="text" id="name" name="name" formControlName="name" class="form-control">
      </p>
      ---------------debut experience------------
      <table class="table table-bordered" formArrayName="experiences">
        <tr>
          <th colspan="2">Add Multiple Stage:</th>
          <th width="150px"><button type="button" (click)="addExperience()" class="btn btn-primary">Add More</button></th>
        </tr>
        <tr *ngFor="let quantity of experiences().controls; let i=index" [formGroupName]="i">
          <td>
              qualification :
              <input type="text" formControlName="qualification" class="form-control">
              mission:
              <input type="text" formControlName="mission" class="form-control">
              <select id="select_ec" formControlName="societe" class="form-control">
                <option selected>orange</option>
                <option value="1">telnet</option>
                <option value="2">vermeg</option>
              </select>
          </td>
          <td>
            date d'entrée:
            <input type="date" formControlName="date_entree" class="form-control">
            date de fin:
              <input type="date" formControlName="date_sortie" class="form-control">
          </td>

          <td>
              <button (click)="removeExperience(i)" class="btn btn-danger">Remove</button>
          </td>
        </tr>
      </table>
      ---------------fin experience---------------
  -------------------debut stage-------------------
      <table class="table table-bordered" formArrayName="stages">
        <tr>
          <th colspan="2">Add Multiple Stage:</th>
          <th width="150px"><button type="button" (click)="addStage()" class="btn btn-primary">Add More</button></th>
        </tr>
        <tr *ngFor="let quantity of stages().controls; let i=index" [formGroupName]="i">
          <td>
              titre :
              <input type="text" formControlName="titre" class="form-control">
              mission:
              <input type="text" formControlName="mission" class="form-control">
              <select id="select_ec" formControlName="societe" class="form-control">
                <option selected>orange</option>
                <option value="1">telnet</option>
                <option value="2">vermeg</option>
              </select>
          </td>
          <td>
            date d'entrée:
            <input type="date" formControlName="date_entree" class="form-control">
            date de fin:
              <input type="date" formControlName="date_sortie" class="form-control">
          </td>

          <td>
              <button (click)="removeStage(i)" class="btn btn-danger">Remove</button>
          </td>
        </tr>
      </table>
      ----------------fin stage---------------------------
      -----------------debut diplome------------------------
      <table class="table table-bordered" formArrayName="diplomes">
        <tr>
          <th colspan="2">Add Multiple Diplome:</th>
          <th width="150px"><button type="button" (click)="addDiplome()" class="btn btn-primary">Add More</button></th>
        </tr>
        <tr *ngFor="let quantity of diplomes().controls; let i=index" [formGroupName]="i">
          <td>
              titre :
              <input type="text" formControlName="titre" class="form-control">
              specialité:
              <input type="text" formControlName="specialite" class="form-control">

          </td>
          <td>
            <select id="select_ec" formControlName="etablissement" class="form-control">
              <option value ="ISIMM"selected >ISIMM</option>
              <option value="IPSAS">IPSAS</option>
              <option value="ENIS">ENIS</option>
            </select>
          </td>

          <td>
              <button (click)="removeDiplome(i)" class="btn btn-danger">Remove</button>
          </td>
        </tr>
      </table>

      ---------------fin diplome-----------------
      ----------------debut competence-----------


         <table class="table table-bordered" formArrayName="competences">
        <tr>
          <th colspan="2">Add Multiple competenes:</th>
          <th width="150px"><button type="button" (click)="addCompetence()" class="btn btn-primary">Add More</button></th>
        </tr>
        <tr *ngFor="let c of competences().controls; let i=index" [formGroupName]="i">
          <td>
              domaine :
              <input type="text" formControlName="domaine" class="form-control">


          </td>
          <td>
            date d'entrée:
            <select id="select_ec" formControlName="niveau" class="form-control">
                <option value="debutant" selected>debutant</option>
                <option value="intermediaire">intermediaire</option>
                <option value="avancé">avancé</option>
                <option value="expert">expert</option>
              </select>
          </td>

          <td>
              <button (click)="removeCompetence(i)" class="btn btn-danger">Remove</button>
          </td>
        </tr>
      </table>
      ----------------fin competence-------------

      <button type="submit" class="btn btn-success">Submit</button>

    <!-- </form> -->

    <br/>
    {{this.productForm.value | json}}
  </div>


  <button type="submit"  class="btn btn-primary">envoyer</button>

</form>
{{this.productForm.value | json}}
